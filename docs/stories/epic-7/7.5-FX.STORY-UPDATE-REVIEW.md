# Story 7.5-FX Updated Document Review

**Date:** 2025-11-18
**Reviewer:** Richard (Wyckoff Mentor) on behalf of team
**Story Document:** `docs/stories/epic-7/7.5-FX.forex-currency-correlation-risk-limits.md`
**Review Type:** Post-Update Verification

---

## Executive Summary

✅ **APPROVED - Story document correctly updated with Wyckoff team revisions**

The story document has been successfully updated to reflect all Wyckoff team review requirements from [7.5-FX.WYCKOFF-REVIEW-UPDATES.md](7.5-FX.WYCKOFF-REVIEW-UPDATES.md).

### **Key Changes Verified:**

✅ **Revision Notice Added** (lines 3)
- Clear warning about major revision
- References review document
- Lists key changes upfront

✅ **Story Statement Updated** (line 19)
- Now mentions "phase-weighted currency limits"
- Includes "campaign count limits (max 3 campaigns)"
- Removed directional limit language

✅ **Acceptance Criteria Revised:**
- **AC #3:** Phase-weighted currency limit validation ✅
- **AC #4:** Campaign count limit (replaced directional limit) ✅
- **AC #5:** ForexCurrencyExposure with phase fields ✅
- **AC #6:** Currency groups (ADVISORY ONLY) ✅
- **AC #7:** Campaign integration with phase detection ✅
- **AC #8:** Phase-weighted rejection messaging ✅
- **AC #9:** Phase-based risk weighting ✅

✅ **Tasks Updated:**
- Directional limit tasks removed
- Correlation matrix tasks removed
- Phase-weighting tasks added
- Campaign count limit tasks added

✅ **Story Points Revised:**
- Changed from 8 to 6 points

---

## Detailed Verification

### **1. Header & Status (Lines 1-14)**

**Revision Notice:**
```markdown
> **⚠️ MAJOR REVISION (2025-11-18):** This story has been revised by the Wyckoff team...
```

✅ **CORRECT**
- Clearly marks story as revised
- Lists key changes (removed directional, removed correlation, added phase-weighting, added campaign count)
- References full review document

**Status Section:**
```markdown
**⚠️ REVISED after Wyckoff Team Review (2025-11-18)**
**Estimate:** 6 story points (revised from 8)
**Dependencies:** Story 7.4-FX (Forex Campaign Risk Tracking), Story 4.x (Phase Detection)
```

✅ **CORRECT**
- Story points reduced from 8 to 6
- Dependencies correctly list 7.4-FX (for campaign/phase data)
- Dependencies correctly list 4.x (for phase detection)

---

### **2. Story Statement (Lines 16-20)**

**Updated Statement:**
```markdown
**As a** forex trader,
**I want** phase-weighted currency limits (6% max per currency) and campaign count limits (max 3 campaigns) enforced,
**so that** I don't over-expose my portfolio to single currency movements while allowing multiple validated Wyckoff campaigns to run concurrently.
```

✅ **CORRECT - Key Wyckoff Concepts Integrated:**
- ✅ "phase-weighted currency limits" (core revision)
- ✅ "campaign count limits (max 3 campaigns)" (replaces directional limit)
- ✅ "multiple validated Wyckoff campaigns to run concurrently" (explains why directional limit was wrong)

**Previous (WRONG) Statement:**
```markdown
I want currency correlation limits (6% max per currency, 8% max directional) enforced
```

**Change is CORRECT** - Removed directional limit language, added phase-weighting

---

### **3. Context Section (Lines 22-81)**

**Phase-Weighted Example Added (Lines 68-75):**
```markdown
**Phase-Weighted Currency Exposure:**

If the same portfolio has phase information:
- EUR/USD long Phase E (2% raw × 0.5 weight = 1.0% weighted EUR exposure)
- GBP/USD long Phase C (2% raw × 1.0 weight = 2.0% weighted GBP exposure)
- AUD/USD long Phase C (2% raw × 1.0 weight = 2.0% weighted AUD exposure)

**Weighted USD exposure:** -5.0% (vs -6.0% raw) - still within 6% limit with headroom for additional Phase E positions.
```

✅ **EXCELLENT**
- Clear example of phase weighting in action
- Shows how Phase E (0.5x) reduces weighted exposure
- Demonstrates headroom benefit for validated campaigns

**Campaign Count Limit Example (Lines 77-79):**
```markdown
**Campaign Count Limit:**

Maximum 3 concurrent campaigns prevents portfolio complexity while allowing proper Wyckoff diversification.
```

✅ **CORRECT**
- Explains campaign count limit concept
- Replaces removed directional limit rationale

---

### **4. Acceptance Criteria (Lines 83-266)**

#### **AC #1: Module Creation (Line 85)**

✅ **UNCHANGED - Correct**

#### **AC #2: Currency Exposure Calculation (Lines 87-106)**

✅ **UNCHANGED - Correct** (this was always right)

#### **AC #3: Currency Limit Validation (Lines 108-116) - REVISED**

**Updated AC #3:**
```markdown
3. **Currency limit validation (6% max per currency, phase-weighted):**
   - Calculate phase-weighted exposure using campaign phase data
   - Phase E (markup): 0.5x weight (confirmed campaign, lower risk)
   - Phase D (LPS): 0.75x weight (progressing campaign, medium risk)
   - Phase C/B/A/None: 1.0x weight (unconfirmed campaign, full risk)
   - Check absolute weighted exposure: `abs(weighted_currency_exposure) <= 6%`
   - Example: EUR Phase E position (4% raw) = 2% weighted exposure
   - Reject new position if weighted exposure would exceed 6%
```

✅ **CORRECT - All Wyckoff Requirements:**
- ✅ Phase weighting specified (E=0.5x, D=0.75x, C/B/A=1.0x)
- ✅ Uses weighted exposure for limit validation
- ✅ Clear example (4% raw Phase E = 2% weighted)

**Previous (WRONG) AC #3:**
```markdown
Check absolute exposure: `abs(currency_exposure) <= 6%` (no phase weighting)
```

---

#### **AC #4: Campaign Count Limit (Lines 118-164) - NEW**

**New AC #4:**
```python
4. **Campaign count limit validation (max 3 concurrent campaigns):**
   def validate_campaign_count_limit(
       current_campaigns: list[ForexCurrencyCampaign],
       new_position_symbol: str,
       max_campaigns: int = 3
   ) -> tuple[bool, Optional[str]]:
```

✅ **CORRECT - Replaces Directional Limit:**
- ✅ Max 3 concurrent campaigns
- ✅ Checks if new position starts new campaign
- ✅ Adding to existing campaign doesn't increase count
- ✅ Clear rejection messaging

**Previous (WRONG) AC #4:**
```markdown
Directional correlation calculation (total_long_exposure, total_short_exposure)
```

**Previous (WRONG) AC #5:**
```markdown
Directional limit validation (8% max directional)
```

**Both removed** - Correctly replaced with campaign count limit

---

#### **AC #5: ForexCurrencyExposure Data Model (Lines 166-172) - REVISED**

**Updated AC #5:**
```python
@dataclass
class ForexCurrencyExposure:
    # Raw exposure (for reporting)
    currency_exposure_raw: dict[str, Decimal]

    # Phase-weighted exposure (for limit validation)
    currency_exposure_weighted: dict[str, Decimal]

    # Phase breakdown per currency
    phase_breakdown: dict[str, dict[str, Decimal]]

    # Campaign tracking
    active_campaigns: list[str]
    campaign_count: int
    campaign_limit_warning: Optional[str] = None
```

✅ **CORRECT - All Phase/Campaign Fields:**
- ✅ `currency_exposure_raw` (for reporting)
- ✅ `currency_exposure_weighted` (for validation)
- ✅ `phase_breakdown` (shows Phase E/D/C breakdown)
- ✅ `active_campaigns` and `campaign_count`
- ❌ **REMOVED:** `total_long_exposure`, `total_short_exposure`, `directional_limit_warning`

**Previous (WRONG) AC #6:**
```python
total_long_exposure: Decimal
total_short_exposure: Decimal
directional_limit_warning: Optional[str] = None
```

**Correctly removed** - No longer tracking directional exposure

---

#### **AC #6: Currency Group Detection (Lines 195-203) - REVISED**

**Updated AC #6:**
```markdown
6. **Currency group detection (ADVISORY ONLY - no rejections):**
   - Track currency groups for informational purposes only
   - Warn if group exposure > 10% (informational only, does NOT reject)
   - Group warnings are ADVISORY - trader discretion to manage
   - Advisory message: "INFO: Commodity currency group exposure at 6.5% (informational)"
   - Position is APPROVED (group limit is advisory, not enforced)
```

✅ **CORRECT - Advisory Only:**
- ✅ Explicitly states "ADVISORY ONLY - no rejections"
- ✅ "informational only, does NOT reject"
- ✅ Message format: "INFO" (not "WARNING")
- ✅ "Position is APPROVED"

**Previous (WRONG) AC #8:**
```markdown
Warn if concentrated exposure in correlated currency group (implied enforcement)
```

**Correctly clarified** - Now explicitly advisory-only

---

#### **AC #7: Campaign Integration (Lines 205-211) - REVISED**

**Updated AC #7:**
```markdown
7. **Integration with campaign tracking (Story 7.4-FX):**
   - Currency campaigns automatically track currency exposure with phase information
   - Each position tracks current_phase from phase detector (Story 4.x)
   - Validate new position doesn't violate phase-weighted currency limits
   - Validate new campaign doesn't exceed 3 campaign count limit
   - Campaign phase data used for phase-weighted exposure calculation
```

✅ **CORRECT - Phase Integration:**
- ✅ Mentions "with phase information"
- ✅ References Story 4.x phase detector
- ✅ "phase-weighted currency limits"
- ✅ "3 campaign count limit"

**Previous (WRONG) AC #9:**
```markdown
Integration with campaign tracking (no phase weighting mentioned)
```

---

#### **AC #8: Rejection Messaging (Lines 213-251) - REVISED**

**Updated AC #8:**
```markdown
8. **Position rejection with clear messaging (phase-weighted context):**
    REJECTED: USD phase-weighted exposure would reach -6.5% (limit: ±6.0%)

    Raw USD exposure: -8.0%
    Phase-weighted exposure: -6.5%

    Current USD short positions:
    - EUR/USD long @ 1.0850 (2.0% raw, 1.0% weighted - Phase E)
    - GBP/USD long @ 1.2650 (2.0% raw, 2.0% weighted - Phase C)

    Suggestion: Close GBP/USD (Phase C) to free 2.0% weighted USD exposure,
    OR wait for AUD/USD to reach Phase E (would reduce weighted exposure by 1.0%)
```

✅ **EXCELLENT - Phase Context:**
- ✅ Shows both raw and weighted exposure
- ✅ Lists phase for each position (Phase E, Phase C)
- ✅ Shows raw vs weighted per position (2.0% raw, 1.0% weighted - Phase E)
- ✅ Phase-aware suggestions ("wait for AUD/USD to reach Phase E")

**Also includes campaign count rejection example:**
```markdown
REJECTED: Maximum 3 concurrent campaigns exceeded

Active campaigns:
1. EUR/USD (Phase E - 6.0% risk across 3 positions)
2. GBP/USD (Phase D - 3.0% risk across 2 positions)
3. AUD/USD (Phase C - 1.0% risk, 1 position)
```

✅ **CORRECT** - Shows phase per campaign

---

#### **AC #9: Phase-Based Risk Weighting (Lines 245-266) - NEW**

**New AC #9:**
```markdown
9. **Phase-based risk weighting integration:**
    - Each ForexPosition must track current_phase (A, B, C, D, E, or None)
    - Phase data sourced from phase detector module (Story 4.x)
    - Apply phase weights when calculating currency exposure:
      * Phase E: 0.5x weight (confirmed campaign - SOS confirmed, low risk)
      * Phase D: 0.75x weight (progressing campaign - LPS confirmed, medium risk)
      * Phase C/B/A/None: 1.0x weight (unconfirmed campaign - full risk)
    - Phase-weighted exposure used for 6% currency limit validation
    - Raw exposure still tracked for reporting purposes
```

✅ **CORRECT - Core Wyckoff Requirement:**
- ✅ Phase weights specified (E=0.5x, D=0.75x, C/B/A/None=1.0x)
- ✅ Explains WHY weights differ (SOS confirmed vs unconfirmed)
- ✅ Clear example showing raw vs weighted calculation
- ✅ Notes raw exposure still tracked for reporting

**This AC was MISSING** in original - correctly added

---

### **5. Tasks Section (Lines 267-648)**

#### **Task 1: Module Creation (Lines 269-276)**

✅ **UNCHANGED** - Correct

#### **Task 2: Currency Exposure Calculation (Lines 278-295)**

✅ **UNCHANGED** - Correct (this logic was always right)

#### **Task 3: Phase-Weighted Currency Limit Validation (Lines 297-361) - REVISED**

**Updated Task 3:**
```python
### **Task 3: Implement phase-weighted currency limit validation** (AC: 3, 9)

def get_phase_weight(phase: Optional[str]) -> Decimal:
    """Return risk weighting by Wyckoff phase."""
    PHASE_WEIGHTS = {
        "E": Decimal("0.50"),  # Confirmed markup - lowest risk
        "D": Decimal("0.75"),  # LPS confirmed - medium risk
        "C": Decimal("1.00"),  # Test phase - full risk
        ...
    }

def validate_currency_limit(
    currency: str,
    current_positions: list[ForexPosition],  # ✅ CHANGED (was flat exposure)
    new_position: ForexPosition              # ✅ CHANGED
) -> tuple[bool, Optional[str]]:
    # Calculate phase-weighted exposure
    phase_weight = get_phase_weight(position.current_phase)
    weighted_exposure += exposure * phase_weight
```

✅ **CORRECT Changes:**
- ✅ Added `get_phase_weight()` helper function
- ✅ Changed signature to accept positions (not flat exposure values)
- ✅ Calculates weighted exposure before validation
- ✅ Added phase-weighting tests

**Previous (WRONG) Task 3:**
```python
def validate_currency_limit(
    currency: str,
    current_exposure: Decimal,      # ❌ Flat exposure (no phase info)
    new_exposure_change: Decimal
)
```

---

#### **Task 4: Campaign Count Limit Validation (Lines 363-412) - NEW**

**New Task 4:**
```python
### **Task 4: Implement campaign count limit validation** (AC: 4)

def validate_campaign_count_limit(
    current_campaigns: list[ForexCurrencyCampaign],
    new_position_symbol: str,
    max_campaigns: int = 3
) -> tuple[bool, Optional[str]]:
```

✅ **CORRECT - Replaces Directional Limit:**
- ✅ Max 3 concurrent campaigns
- ✅ Checks if new position starts new campaign
- ✅ Unit tests for campaign counting

**Previous (WRONG) Task 4:**
```
Implement directional correlation calculation (REMOVED)
```

**Previous (WRONG) Task 5:**
```
Implement directional limit validation (REMOVED)
```

**Both correctly removed** and replaced with campaign count limit

---

#### **Task 5: ForexCurrencyExposure Data Model (Lines 414-475) - REVISED**

**Updated Task 5:**
```python
@dataclass
class ForexCurrencyExposure:
    # Raw exposure (for reporting)
    currency_exposure_raw: dict[str, Decimal]

    # Phase-weighted exposure (for limit validation)
    currency_exposure_weighted: dict[str, Decimal]

    # Phase breakdown per currency
    phase_breakdown: dict[str, dict[str, Decimal]]

    # Campaign tracking
    active_campaigns: list[str]
    campaign_count: int
    campaign_limit_warning: Optional[str] = None

    # REMOVED: total_long_exposure, total_short_exposure, directional_limit_warning
```

✅ **CORRECT Changes:**
- ✅ Added `currency_exposure_raw` and `currency_exposure_weighted`
- ✅ Added `phase_breakdown`
- ✅ Added `active_campaigns` and `campaign_count`
- ✅ Removed directional exposure fields

---

#### **Task 6: Currency Group Detection (Lines 477-595) - REVISED**

**Updated Task 6:**
```markdown
### **Task 6: Implement currency group detection (ADVISORY ONLY)** (AC: 6)

- [ ] Unit test: Advisory warning at 10% (does NOT reject)
```

✅ **CORRECT**
- Title includes "(ADVISORY ONLY)"
- Test explicitly checks "does NOT reject"

**Previous (WRONG) Task 8:**
```
Currency group detection (enforcement implied)
```

---

#### **Task 7: Campaign Integration (Lines 597-641) - REVISED**

**Updated Task 7:**
```python
### **Task 7: Integrate with campaign tracking and phase detection** (AC: 7, 9)

def validate_campaign_currency_limits(
    current_campaigns: list[ForexCurrencyCampaign],  # ✅ Changed (was campaign singular)
    all_positions: list[ForexPosition],
    new_position: ForexPosition
) -> tuple[bool, Optional[str]]:
    # Validate campaign count limit
    is_valid, error = validate_campaign_count_limit(...)  # ✅ Added

    # Validate phase-weighted currency limits
    is_valid, error = validate_currency_limit(...)  # ✅ Uses phase weighting
```

✅ **CORRECT Changes:**
- ✅ Added campaign count limit validation
- ✅ Uses phase-weighted currency limit validation
- ✅ References both Story 7.4-FX and Story 4.x

**Previous (WRONG) Task 9:**
```python
# Validate directional limits
is_valid, error = validate_directional_limit(...)  # ❌ REMOVED
```

---

#### **REMOVED Tasks:**

❌ **Task 5 (OLD): Directional limit validation** - CORRECTLY REMOVED
❌ **Task 7 (OLD): Correlation matrix** - CORRECTLY REMOVED

These were replaced with:
- ✅ Task 4 (NEW): Campaign count limit validation
- ✅ Phase weighting integrated into Task 3

---

### **6. Deliverables Section (Lines 649-662)**

**Updated Deliverables:**
```markdown
- ✅ Phase-weighted currency limit validation (6% max per currency)
- ✅ Campaign count limit validation (max 3 concurrent campaigns)
- ✅ `get_phase_weight()` helper function for phase-based risk weighting
- ✅ Currency group detection (commodity, emerging, European) - ADVISORY ONLY
- ✅ Integration with campaign tracking (Story 7.4-FX) and phase detection (Story 4.x)
- ✅ Clear rejection messaging with phase-weighted context and actionable guidance
- ✅ Unit tests: 25 tests covering phase-weighted exposure, campaign count limits, currency validation
```

✅ **CORRECT Changes:**
- ✅ "Phase-weighted currency limit validation"
- ✅ "Campaign count limit validation"
- ✅ "`get_phase_weight()` helper function"
- ✅ "ADVISORY ONLY" for currency groups
- ✅ "phase-weighted context" in messaging
- ✅ Test count revised to 25 (was 30+)

**Removed (CORRECT):**
- ❌ Directional limit validation (8% max long/short)
- ❌ Correlation matrix for major currencies

---

### **7. Definition of Done (Lines 664-681)**

**Updated DoD:**
```markdown
- [ ] Phase-weighted exposure calculation accurate (Phase E = 0.5x, Phase D = 0.75x, Phase C/B/A = 1.0x)
- [ ] Campaign count limits enforced (max 3 campaigns)
- [ ] Phase integration with phase detector module working
- [ ] Phase breakdown reporting in ForexCurrencyExposure
- [ ] Currency group concentration detection working (advisory only, no rejections)
- [ ] Rejection messages clear and actionable with phase context
- [ ] Unit tests passing (25 tests, 90%+ coverage)
- [ ] Integration tests passing (6 tests: phase-weighted scenarios, campaign count)
- [ ] Code reviewed by Wyckoff team ✅ **COMPLETED** (review: 2025-11-18)
```

✅ **CORRECT Changes:**
- ✅ Added phase-weighted exposure accuracy check
- ✅ Added campaign count limit enforcement check
- ✅ Added phase integration check
- ✅ Added phase breakdown reporting check
- ✅ Clarified currency groups as "advisory only, no rejections"
- ✅ Added "with phase context" to rejection messages
- ✅ Updated test counts (25 unit, 6 integration)
- ✅ Marked Wyckoff team review as completed

**Removed (CORRECT):**
- ❌ Directional limits enforced (8% max long/short)
- ❌ Correlation detection working (EUR/GBP warning)

---

### **8. Notes Section (Lines 683-778)**

**Updated Examples:**

**Portfolio 1: Phase-Weighted USD Short Exposure (Lines 687-694):**
```markdown
- EUR/USD long @ 1.0850 (2% risk, Phase E) → +2% EUR raw, -2% USD raw
  - Weighted: +1% EUR (2% × 0.5), -1% USD (2% × 0.5)
- GBP/USD long @ 1.2650 (2% risk, Phase C) → +2% GBP raw, -2% USD raw
  - Weighted: +2% GBP (2% × 1.0), -2% USD (2% × 1.0)
- **Net USD exposure: -6% raw, -5% weighted (headroom for Phase E positions)**
```

✅ **EXCELLENT**
- Shows raw vs weighted side-by-side
- Demonstrates phase weighting math
- Highlights benefit (headroom for Phase E positions)

**Rejection Scenarios (Lines 708-716):**
```markdown
| Current Exposure (Weighted) | New Position | Result |
| USD: -6% weighted | EUR/USD long Phase E (2% raw = 1% weighted USD) | ACCEPT: USD would be -7% raw but -6% weighted (at limit) |
```

✅ **PERFECT**
- Shows Phase E position (2% raw) is accepted despite -7% raw total
- Because weighted exposure (-6%) is at limit (not over)
- Demonstrates phase weighting benefit in practice

**Phase-Weighting Benefits Section (Lines 718-731):**
```markdown
**Example: Multiple Phase E Campaigns**
- EUR/USD Phase E: 4% raw → 2% weighted
- GBP/USD Phase E: 4% raw → 2% weighted
- AUD/USD Phase E: 4% raw → 2% weighted
- **Total USD: -12% raw, -6% weighted (AT LIMIT but acceptable)**
- **All three campaigns are confirmed (SOS complete), so lower risk justifies higher raw exposure**
```

✅ **CRUCIAL EXAMPLE**
- Shows -12% raw USD is ACCEPTABLE because -6% weighted
- This would be IMPOSSIBLE with old 8% directional limit
- Clearly demonstrates why Wyckoff review was necessary

**Wyckoff Team Review Section (Lines 741-750):**
```markdown
**Richard (Wyckoff Mentor):**
> "Phase-weighted exposure correctly recognizes that Phase E confirmed campaigns are lower risk..."

**Victoria (Volume Specialist):**
> "When multiple currencies show climactic SOS volume simultaneously, that's broad professional accumulation..."

**Rachel (Risk Manager):**
> "The phase-weighted exposure calculation is the right approach..."
```

✅ **CORRECT**
- Includes all three specialist quotes
- Explains rationale for changes
- Supports revised approach

**Comparison Table (Lines 752-761):**
```markdown
| Phase Impact | N/A (stocks don't have Wyckoff phases) | Phase E = 50% risk weight, Phase C = 100% risk weight |
```

✅ **CORRECT**
- Shows key difference between stocks and forex
- Highlights phase-weighting as unique to forex Wyckoff implementation

**Why Campaign Count Limit (Lines 771-777):**
```markdown
**Why campaign count limit (max 3) instead of directional limit?**

Campaign count manages portfolio complexity without blocking valid Wyckoff setups:
- Directional limit (8%) was blocking two simultaneous 6% campaigns (12% directional)
- But two confirmed Phase E campaigns are structurally valid per Wyckoff methodology
- Campaign count limit (3 max) prevents over-complexity while allowing proper diversification
```

✅ **EXCELLENT EXPLANATION**
- Explains why directional limit was wrong
- Shows campaign count limit is better solution
- Justifies with Wyckoff methodology

---

### **9. Dev Agent Record (Lines 780-840)**

**Implementation Summary (Lines 780-840):**

⚠️ **OUTDATED - Still shows old implementation:**
```markdown
**Key Features Implemented:**
3. Directional exposure calculation (separates long/short totals)
4. Directional limit validation (8% max long/short)
6. Correlation matrix (EUR/GBP 0.70, AUD/NZD 0.85, EUR/CHF 0.80)
```

❌ **NEEDS UPDATE**
- This section describes the OLD implementation (before Wyckoff review)
- Should be updated to reflect revised implementation will have:
  - Phase-weighted currency limits (not flat limits)
  - Campaign count limits (not directional limits)
  - No correlation matrix

**Recommendation:**
- Leave "Dev Agent Record" section as-is (historical record of initial implementation)
- Add **NEW section** below it:
  ```markdown
  ## Rework Required

  **Note:** The initial implementation (above) was completed before the Wyckoff team review.
  A rework is required to align with revised acceptance criteria:
  - Remove directional limit validation (8% max)
  - Remove correlation matrix (EUR/GBP correlation)
  - Add phase-weighted currency limits
  - Add campaign count limits (max 3 campaigns)
  - Revise ForexCurrencyExposure data model

  See [7.5-FX.IMPLEMENTATION-REVIEW.md] for detailed rework requirements.
  ```

---

## Summary Assessment

### **Overall Verdict: ✅ APPROVED**

The story document has been **correctly and comprehensively updated** to reflect Wyckoff team requirements.

### **Changes Verified:**

✅ **Story Statement** - Now mentions phase-weighted limits and campaign count
✅ **AC #3** - Currency limit validation uses phase weighting
✅ **AC #4** - Campaign count limit (replaced directional limit)
✅ **AC #5** - ForexCurrencyExposure includes phase fields
✅ **AC #6** - Currency groups marked ADVISORY ONLY
✅ **AC #7** - Campaign integration includes phase detection
✅ **AC #8** - Rejection messaging includes phase context
✅ **AC #9** - NEW AC for phase-based risk weighting

✅ **Tasks Updated** - Directional/correlation removed, phase-weighting/campaign count added
✅ **Deliverables Updated** - Reflects revised scope
✅ **Definition of Done** - Includes phase-weighted checks
✅ **Examples Updated** - Show phase weighting in practice
✅ **Story Points** - Reduced from 8 to 6

### **What's Correct:**

1. ✅ All references to "8% directional limit" removed
2. ✅ All references to "correlation matrix" removed
3. ✅ Phase-weighting added throughout (AC, tasks, examples)
4. ✅ Campaign count limit (max 3) added
5. ✅ Data model updated with phase/campaign fields
6. ✅ Currency groups clarified as advisory-only
7. ✅ Examples demonstrate phase-weighting benefits
8. ✅ Wyckoff team quotes included
9. ✅ Clear comparison with stock Story 7.5

### **Minor Issue:**

⚠️ **Dev Agent Record (lines 780-840)** still describes old implementation

**Recommendation:**
- Keep as historical record
- Add note that rework is required
- Reference implementation review document

### **Next Steps:**

1. ✅ **Story document is ready for development** (after rework)
2. ⚠️ **Existing implementation needs rework** per [7.5-FX.IMPLEMENTATION-REVIEW.md](7.5-FX.IMPLEMENTATION-REVIEW.md)
3. ✅ **Developers should implement revised ACs** (not old implementation)

---

## Wyckoff Team Sign-Off

### **Richard (Wyckoff Mentor):**

> "The updated story document correctly captures our Wyckoff methodology requirements. Phase-weighted currency limits properly recognize that Phase E confirmed campaigns are lower risk than Phase C speculative tests. The campaign count limit (max 3) prevents portfolio complexity without blocking legitimate multi-campaign setups. The removal of the directional limit and correlation matrix eliminates false risk signals. **APPROVED for development.**"

### **Victoria (Volume Specialist):**

> "The story now correctly treats volume-confirmed campaigns (Phase E) as lower risk. The examples clearly show how multiple currencies with climactic SOS volume can run concurrently without artificial directional caps. **APPROVED.**"

### **Rachel (Risk Manager):**

> "Phase-weighted exposure calculation is properly specified. The 6% currency limit applied to weighted exposure (not raw) allows appropriate leverage for validated campaigns while maintaining risk control. Campaign count limit provides complexity management. **APPROVED.**"

---

**Review Status:** ✅ **APPROVED - Ready for Development (after implementation rework)**

**Document Updated:** 2025-11-18
**Review Completed:** 2025-11-18
**Reviewers:** Richard, Victoria, Rachel (Wyckoff Trading Team)
