# Docker Compose Production/Staging Environment Variables
# Copy to .env and fill in all values before running docker-compose.prod.yml

# Database Configuration (REQUIRED)
POSTGRES_PASSWORD=your_secure_password_here

# JWT Authentication (REQUIRED)
# Generate with: python3 -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET_KEY=generate_a_64_char_random_string_here

# CORS - set to your staging server IP or domain (REQUIRED)
# Examples:
#   CORS_ORIGINS=http://192.168.1.100
#   CORS_ORIGINS=https://staging.yourdomain.com
CORS_ORIGINS=["http://localhost"]

# SSL Certificate directory on the host (REQUIRED for HTTPS)
# Must contain fullchain.pem and privkey.pem
# For self-signed certs, see instructions below.
# For Let's Encrypt: SSL_CERT_DIR=/etc/letsencrypt/live/your-domain
SSL_CERT_DIR=/etc/ssl/staging

# Market Data API Keys (at least one required for signal generation)
POLYGON_API_KEY=
ALPACA_API_KEY=
ALPACA_SECRET_KEY=

# Backend Configuration
LOG_LEVEL=info
ENVIRONMENT=production

# --- Self-signed cert generation (staging only) ---
# Run on the Ubuntu host, then set SSL_CERT_DIR=/etc/ssl/staging
#
#   sudo mkdir -p /etc/ssl/staging
#   sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
#     -keyout /etc/ssl/staging/privkey.pem \
#     -out /etc/ssl/staging/fullchain.pem \
#     -subj "/CN=staging"
#   sudo chmod 644 /etc/ssl/staging/fullchain.pem
#   sudo chmod 600 /etc/ssl/staging/privkey.pem
